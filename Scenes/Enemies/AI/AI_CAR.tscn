[gd_scene load_steps=5 format=3 uid="uid://cq7ysgpmp00sq"]

[ext_resource type="Script" uid="uid://5tp74jkp1gm8" path="res://Scenes/Enemies/AI/AI_CAR.gd" id="1_0vx8h"]
[ext_resource type="ArrayMesh" uid="uid://blvsfn20ulah0" path="res://Assets/Cars/BlackCar1Mesh.res" id="2_jw5f5"]
[ext_resource type="PackedScene" uid="uid://daal783qf177v" path="res://Assets/Wheels/SmallWheel.glb" id="3_oabwf"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_ch6g4"]
points = PackedVector3Array(-1.32707, 0.12981, 4.43162, 2.33147, 1.67029, 2.20968, 1.79843, 1.53727, 4.07396, -1.57934, 2.40488, -1.63522, 1.81986, 0.0124084, -2.74518, -1.81971, 0.0120662, -2.7463, 1.7134, 1.90217, -2.78901, -1.79776, 1.53727, 4.07396, 1.6227, 0.0627955, 3.66873, 1.66517, 2.4696, 0.478915, -2.3308, 1.67029, 2.20968, -1.7134, 1.90244, -2.79055, 0.192227, 0.371651, 5.24631, -1.6645, 2.4696, 0.478915, -0.332359, 1.40401, 5.00778, -1.79467, 0.028468, 2.25782, 1.93169, 0.605196, 4.34017, -1.93102, 0.605196, 4.34017, 1.58001, 2.40488, -1.63522, 1.53191, 1.53727, 4.47453, 1.80328, 1.26634, -2.83438, 1.79534, 0.028468, 2.25782, -1.80314, 1.26636, -2.83555, 0.697999, 0.1262, 4.82419, -0.865399, 1.27075, 5.00778, -1.80314, 0.271793, -2.83555, -1.6645, 1.53727, 4.34017, -0.897276, 0.0675457, 4.25583, -0.191572, 0.371585, 5.24664, 0.466289, 1.40401, 5.00778, 2.33147, 1.67029, 1.94264, -2.3308, 1.67029, 1.94264)

[node name="Node3D" type="VehicleBody3D"]
collision_layer = 13
collision_mask = 12
mass = 200.0
engine_force = 600.0
steering = 1.39626
script = ExtResource("1_0vx8h")

[node name="CarMesh" type="MeshInstance3D" parent="."]
mesh = ExtResource("2_jw5f5")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("ConvexPolygonShape3D_ch6g4")

[node name="VehicleWheel3D" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0.549639, 3.29216)
engine_force = 600.0
brake = 10.0
steering = 1.39626
use_as_traction = true
use_as_steering = true
wheel_roll_influence = 0.5
wheel_radius = 0.7
wheel_rest_length = 0.5
wheel_friction_slip = 1.4
suspension_stiffness = 30.0
suspension_max_force = 8000.0
damping_compression = 0.3

[node name="SmallWheel" parent="VehicleWheel3D" instance=ExtResource("3_oabwf")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -0.548, 0, 0)

[node name="RFW" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0.549268, 3.292)
engine_force = 600.0
brake = 10.0
steering = 1.39626
use_as_traction = true
use_as_steering = true
wheel_roll_influence = 0.5
wheel_radius = 0.7
wheel_rest_length = 0.5
wheel_friction_slip = 1.4
suspension_stiffness = 30.0
suspension_max_force = 8000.0
damping_compression = 0.3

[node name="SmallWheel" parent="RFW" instance=ExtResource("3_oabwf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.548452, 0, 0)

[node name="VehicleWheel3D2" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0.549639, -2.0832)
engine_force = 600.0
brake = 10.0
use_as_traction = true
wheel_roll_influence = 0.5
wheel_radius = 0.7
wheel_rest_length = 0.5
wheel_friction_slip = 1.0
suspension_stiffness = 30.0
suspension_max_force = 8000.0

[node name="SmallWheel" parent="VehicleWheel3D2" instance=ExtResource("3_oabwf")]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, -0.548, 0, 0)

[node name="RBW" type="VehicleWheel3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0.549268, -2.083)
engine_force = 600.0
brake = 10.0
use_as_traction = true
wheel_roll_influence = 0.5
wheel_radius = 0.7
wheel_rest_length = 0.5
wheel_friction_slip = 1.0
suspension_stiffness = 30.0
suspension_max_force = 8000.0

[node name="SmallWheel" parent="RBW" instance=ExtResource("3_oabwf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.548452, 0, 0)

[node name="centerOfMass" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.51786, 0.976106)
visible = false

[node name="Interest" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.00152, -13.7918)

[node name="I_Front" type="RayCast3D" parent="Interest"]
transform = Transform3D(1, 0, 0, 0, -1.09278e-06, 1, 0, -25, -4.37114e-08, 0, 1.1549, 13.2878)

[node name="I_30Left" type="RayCast3D" parent="Interest"]
transform = Transform3D(0.866025, -12.5, -2.18557e-08, 0, -1.09278e-06, 1, -0.5, -21.6506, -3.78552e-08, 0, 1.1549, 13.2878)

[node name="I_30Right" type="RayCast3D" parent="Interest"]
transform = Transform3D(0.866025, 12.5, 2.18557e-08, 0, -1.09278e-06, 1, 0.5, -21.6506, -3.78552e-08, 0, 2.50478, 13.2878)

[node name="I_60Left" type="RayCast3D" parent="Interest"]
transform = Transform3D(0.5, -21.6506, -3.78552e-08, 0, -1.09278e-06, 1, -0.866025, -12.5, -2.18557e-08, 0, 1.1549, 13.2878)

[node name="I_60Right" type="RayCast3D" parent="Interest"]
transform = Transform3D(0.498753, 21.6686, 3.78866e-08, 0, -1.09278e-06, 1, 0.866744, -12.4688, -2.18012e-08, 0, 1.1549, 13.2878)

[node name="Dangers" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.00152, -12.2857)

[node name="D_Front" type="RayCast3D" parent="Dangers"]
transform = Transform3D(1, 0, 0, 0, -4.99164e-07, 0.493165, 0, -11.4196, -2.15569e-08, 0, 1.18988, 13.2878)
collision_mask = 8

[node name="D_30Left" type="RayCast3D" parent="Dangers"]
transform = Transform3D(0.866025, -12.5, -2.18557e-08, 0, -1.09278e-06, 1, -0.5, -21.6506, -3.78552e-08, 0, 1.1549, 13.2878)
collision_mask = 8

[node name="D_30Right" type="RayCast3D" parent="Dangers"]
transform = Transform3D(0.866025, 12.5, 2.18557e-08, 0, -1.09278e-06, 1, 0.5, -21.6506, -3.78552e-08, 0, 1.1549, 13.2878)
collision_mask = 8

[node name="D_60Left" type="RayCast3D" parent="Dangers"]
transform = Transform3D(0.5, -21.6506, -3.78552e-08, 0, -1.09278e-06, 1, -0.866025, -12.5, -2.18557e-08, 0, 1.1549, 13.2878)
collision_mask = 8

[node name="D_60Right" type="RayCast3D" parent="Dangers"]
transform = Transform3D(0.498753, 21.6686, 3.78866e-08, 0, -1.09278e-06, 1, 0.866744, -12.4688, -2.18012e-08, 0, 1.1549, 13.2878)
collision_mask = 8

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(-1, 1.27984e-08, 8.84862e-08, 8.71827e-08, 0.358971, 0.933349, -1.98186e-08, 0.933349, -0.358971, 0, 19.781, -6.1217)
visible = false

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]
navigation_layers = 128
avoidance_layers = 5
